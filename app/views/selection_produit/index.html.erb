<h2 class="text-center mb-2">Sélection produit</h2>

<% unless @produit.present? %>
  <% button_configs = [
    { path: display_qr_selection_produit_index_path, icon: "fa-qrcode", text: "QR code", color: "text-primary" },
    { path: display_manuelle_selection_produit_index_path, icon: "fa-hand", text: "Manuelle", color: "text-secondary" }
  ] %>

<div class="d-flex flex-wrap justify-content-center align-items-center py-4">
  <% button_configs.each do |config| %>
    <%= button_to config[:path], class: "btn m-2 btn-topic mx-3 px-4",
      data: { controller: "button-color", action: "click->button-color#handleClick" },
      "data-original-color": config[:color] do %>
      <i class="fa fa-solid fa-xl <%= config[:icon] %> <%= config[:color] %> <%= config[:text].downcase.parameterize %> <%= config[:color] %>" data-target="button-color.icon"></i>
      <span class="ms-1 fw-bold text-dark"><%= config[:text] %></span>
    <% end %>
  <% end %>
</div>

<% end %>

<div id="partial-container" class="partial-topic">
  <%# recoit le turbo stream avec elements cliqués %>
  <% if @produit.present? %>
    <%= render @produit %>
    <%= render partial: 'articles/form', locals: { commande_id: @commande.id, produit_id: @produit.id, article: Article.new } %>
  <% end %>
</div>

<br> <br>

<div class="fixed-bottom bg-light">
  <%= return_model_index_button("Retour vers commande", commande_path(@commande)) %>
</div>

