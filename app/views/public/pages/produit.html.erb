<div class="public-main-content">
  <div class="card concept-card shadow-lg my-3" data-aos="smoke-fade-in" data-aos-duration="1000">
    <div class="row g-0">
      <!-- Image/Carousel Column -->
      <div class="col-md-5" data-aos="smoke-slide-right" data-aos-delay="200">
        <%= render partial: "carousel", locals: { produit: @produit, carousel_class: "carousel-single" } %>
      </div>

      <!-- Text Content Column -->
      <div class="col-md-7">
        <div class="card-body p-3 p-md-4 d-flex flex-column h-100">
          <div class="flex-grow-1">
            <!-- Title -->
            <h2 class="card-title text-light mb-5 fw-bold" style="font-family: 'Cormorant Garamond', serif; font-size: 2rem;" data-aos="fade-left" data-aos-delay="200" data-aos-duration="800">
              <%= @produit.nom %>
            </h2>

            <!-- Description -->
            <p class="card-text text-light opacity-75 mb-3" style="line-height: 1.6; font-size: 1rem;" data-aos="fade-left" data-aos-delay="400" data-aos-duration="800">
              <%= @produit.description %>
            </p>

            <!-- Badges: Taille, Prix -->
            <div class="d-flex flex-wrap gap-2 my-4" data-aos="fade-up" data-aos-delay="600" data-aos-duration="800">
              <%= badge_taille(@produit) if @produit.taille.present? %>
              <%= badge_prix("Vente", @produit.prixvente) %>
              <%= badge_prix("Location", @produit.prixlocation) if @produit.prixlocation.present? %>
            </div>

            <!-- Location info -->
            <% if @produit.prixlocation.present? %>
              <div class="alert mb-3 py-2" style="background: linear-gradient(135deg, rgba(108, 117, 125, 0.2), rgba(108, 117, 125, 0.3)); border: 1px solid rgba(108, 117, 125, 0.5); border-radius: 0.75rem;" data-aos="fade-up" data-aos-delay="800" data-aos-duration="800">
                <i class="bi bi-info-circle public-brand-color me-2"></i>
                <small class="text-light opacity-75">La location se fait uniquement au magasin.</small>
              </div>
            <% end %>

            <!-- Other sizes -->
            <% if @meme_produit_meme_couleur_autres_tailles.any? %>
                <h6 class="text-light mb-2 d-flex align-items-center" style="font-size: 0.95rem;" data-aos="fade-left" data-aos-delay="1000" data-aos-duration="800">
                  <i class="bi bi-rulers public-brand-color me-2"></i>
                  <span class="fw-bold">Autres tailles disponibles</span>
                </h6>
                <div class="d-flex flex-wrap gap-2" data-aos="fade-up" data-aos-delay="1100" data-aos-duration="800">
                  <% @meme_produit_meme_couleur_autres_tailles.each do |produit| %>
                    <%= badge_taille_link(produit) %>
                  <% end %>
                </div>
            <% end %>

            <!-- Other colors -->
            <% if @meme_produit_meme_taille_autres_couleurs.any? %>
                <h6 class="text-light mb-2 d-flex align-items-center" style="font-size: 0.95rem;" data-aos="fade-left" data-aos-delay="1200" data-aos-duration="800">
                  <i class="bi bi-palette public-brand-color me-2"></i>
                  <span class="fw-bold">Autres couleurs disponibles</span>
                </h6>
                <div class="d-flex flex-wrap gap-2" data-aos="fade-up" data-aos-delay="1300" data-aos-duration="800">
                  <% @meme_produit_meme_taille_autres_couleurs.each do |produit| %>
                    <%= badge_couleur_link(produit) %>
                  <% end %>
                </div>
            <% end %>
          </div>

          <!-- Cart button -->
          <div class="mt-auto pt-3">
            <% if session[:from_cabine] %>
              <%= render partial: "public/pages/cart_buttons/cabine_product_button", locals: { produit: @produit } %>
            <% elsif ENV["ONLINE_SALES_AVAILABLE"] == "true" %>
              <%= render partial: "public/pages/cart_buttons/shop_product_button", locals: { produit: @produit } %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
