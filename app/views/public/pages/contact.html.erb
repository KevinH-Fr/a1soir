<%= page_header(
  "Contact", 
  "Nous sommes à votre écoute",
  image1: "contact1.webp",
  image2: "contact2.webp",
  image2_position: "center top") %>

<div class="public-main-content">
    <div class="container-fluid">
    <!-- Introduction -->
    <div class="text-center my-5 px-3" data-scroll-reveal>
      <h2 class="mb-4 fw-bold text-light">Restons en contact</h2>

    </div>

    <!-- Coordonnées -->
    <div class="row g-4 my-5">
      <!-- Téléphone -->
      <div class="col-lg-4" data-scroll-reveal>
        <div class="concept-card h-100 text-center text-light">
          <div class="concept-card-icon mx-auto mb-3">
            <i class="bi bi-telephone-fill fs-4"></i>
          </div>
          <h4 class="fw-bold mb-3">Téléphone</h4>
          <p class="opacity-75 mb-3">
            Appelez-nous directement pour une réponse immédiate
          </p>
          <%= link_to "tel:+33493451717", class: "btn btn-light btn-lg px-4 public-btn-border-radius" do %>
            <i class="bi bi-telephone me-2"></i><%= @texteContact.present? ? @texteContact.to_plain_text : '+33 4 93 45 17 17' %>
          <% end %>
        </div>
      </div>

      <!-- Email -->
      <div class="col-lg-4" data-scroll-reveal>
        <div class="concept-card h-100 text-center text-light">
          <div class="concept-card-icon mx-auto mb-3">
            <i class="bi fs-4 bi-envelope-fill"></i>
          </div>
          <h4 class="fw-bold mb-3">Email</h4>
          <p class="text-light opacity-75 mb-3">
            Écrivez-nous, nous vous répondons rapidement
          </p>
          <%= link_to "#{contact_path}#message-form", class: "btn btn-light btn-lg px-4 public-btn-border-radius" do %>
            <i class="bi bi-envelope me-2"></i>
            Nous écrire
          <% end %>
        </div>
      </div>

      <!-- Adresse -->
      <div class="col-lg-4" data-scroll-reveal>
        <div class="concept-card h-100 text-center text-light">
          <div class="concept-card-icon mx-auto mb-3">
            <i class="bi bi-geo-alt-fill fs-4"></i>
          </div>
          <h4 class="fw-bold mb-3 text-light">Boutique</h4>
          <p class="opacity-75 mb-3">
            <%= @texteAdresse.present? ? @texteAdresse.to_plain_text : "Venez nous rendre visite en boutique" %>
          </p>
          <% adresse = "autour d'un soir 06400 cannes" %>
          <%= link_to "https://www.google.com/maps/search/?api=1&query=#{CGI.escape(adresse)}", target: "_blank", class: "btn btn-light btn-lg px-4 public-btn-border-radius" do %>
            <i class="bi bi-geo-alt me-2"></i>Ouvrir dans Maps
          <% end %>
        </div>
      </div>
    </div>

    <!-- Formulaire de contact -->
    <div id="message-form" class="bg-white text-dark my-5 py-3" data-scroll-reveal>
      <%= render partial: "public/pages/contact_form", locals: { contact_message: @contact_message } %>
    </div>

    <!-- Rendez-vous -->
    <div class="bg-white text-dark py-5" data-scroll-reveal>
      <div class="container text-center">
        <div class="mb-4">
          <i class="bi bi-calendar-check fs-2"></i>
        </div>
        <h3 class="mb-4 fw-bold">Prendre rendez-vous</h3>
        <p class="lead opacity-75 mb-4 mx-auto" style="max-width: 700px;">
          Réservez un créneau pour découvrir nos collections en boutique, bénéficier de conseils personnalisés 
          ou pour vos essayages. Notre équipe vous accueille dans les meilleures conditions.
        </p>
        <%= link_to "#{rdv_url(subdomain: "shop")}#rdv-form", class: "btn btn-dark btn-lg px-5 public-btn-border-radius" do %>
          <i class="bi bi-calendar-plus me-2"></i>Réserver un rendez-vous
        <% end %>
      </div>
    </div>

    <!-- Horaires -->
    <div class="my-5" data-scroll-reveal>
      <div class="concept-card">
        <h3 class="text-center mb-5 fw-bold text-light">Horaires d'ouverture</h3>
        <div class="text-light">
          <% if @texteHoraire.present? %>
            <% horaires_lignes = @texteHoraire.to_plain_text.split("\n").reject(&:blank?) %>
            <% horaires_lignes.each_with_index do |ligne, index| %>
              <div class="<%= 'mb-3 pb-3 border-bottom' unless index == horaires_lignes.size - 1 %>" style="border-color: rgba(255, 255, 255, 0.2) !important;">
                <%= ligne %>
              </div>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>

    <%= render "map" %>

    <!-- Call to action final -->
    <div class="text-center my-5 py-4" data-scroll-reveal>
      <h3 class="mb-4 text-light">Une question ? Un projet ?</h3>
      <p class="text-light opacity-75 mb-4">
        Notre équipe est impatiente de vous rencontrer et de vous accompagner
      </p>
      <div class="d-flex gap-3 justify-content-center flex-wrap">
        <%= link_to nos_collections_url, class: "btn btn-light btn-lg px-4 public-btn-border-radius" do %>
          <i class="bi bi-grid-3x3-gap me-2"></i>Découvrir nos collections
        <% end %>
        <%= link_to la_boutique_url, class: "btn btn-outline-light btn-lg px-4 public-btn-border-radius" do %>
          <i class="bi bi-shop me-2"></i>La boutique
        <% end %>
      </div>
    </div>
    </div>
</div>