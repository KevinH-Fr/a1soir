<!DOCTYPE html>
<html>
  <head>
    <title>A1soir Shop</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/ab64641e90.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <!-- Google Fonts - Polices élégantes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" async >

    <%= favicon_link_tag asset_path('favicon.webp'), :rel => 'icon', :type =>  'image/png' %>

    <%= render "admin/shared/gtag" %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%#= javascript_importmap_tags %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>

    <style>
      /* Container Three.js avec gradient CSS (fond étoilé global) */
      #three-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        z-index: 0;
        background: linear-gradient(180deg, 
          #0a0c14 0%,    /* Bleu nuit sombre en haut */
          #060810 40%,   /* Transition douce */
          #030508 70%,   /* Encore plus sombre */
          #000000 100%   /* Noir pur en bas */
        );
      }

      /* Contenu par-dessus le fond étoilé */
      .public-content {
        position: relative;
        z-index: 1;
      }

      /* Footer */
      footer {
        position: relative;
        z-index: 0;
        backdrop-filter: blur(0px);
      }
    </style>

  </head>

  <body class="pb-4">
    <!-- Container Three.js pour le ciel étoilé (toutes les pages) -->
    <div id="three-container"></div>
    
    <%= render "public/shared/navbar" %>

    <div class="m-0 p-0 public-content">
      <%= yield %>
    </div>
    
      <%= render "public/chat/conversation" %>

    <footer>
      <%= render "public/shared/footer" %>
    </footer>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      document.addEventListener("turbo:load", () => {
        AOS.init();
      });
    </script>

  </body>


</html>
